---
import Button from "../components/Button.astro";
import { SignIn, SignOut } from "auth-astro/components";
import { getSession } from "auth-astro/server";
const session = await getSession(Astro.request);
---

<!-- Header Code -->
<header class="p-5 flex justify-center" style="background-color: #25263c">
    <div class="flex justify-between" style="min-width: 80rem;">
        <div class="flex">
            <img src="/public/favicon.svg" alt="" class="max-w-12" />
            <h2
                class="text-4xl mt-1 ml-2 font-bold text-white hover:underline"
                style="text-shadow: 0px 0px 5px #fff;"
            >
                Your Notepad
            </h2>
        </div>
        <div class="">
            {
                session ? (
                    <>
                        <SignOut
                            class="rounded-2xl text-white bg-red-900 font-bold text-2xl mt-1 hover:bg-transparent"
                            style="padding: 2px 30px;box-shadow: 0px 0px 5px rgb(127 29 29);border: 2px solid rgb(127 29 29);transition: .7s ease-out;"
                            title="Sign Out"
                        >
                            Sign Out
                        </SignOut>
                    </>
                ) : (
                    <>
                        <div class="flex gap-6">
                            <SignIn
                                provider="google"
                                class="rounded-2xl text-white bg-blue-900 font-bold text-2xl mt-1 hover:bg-transparent"
                                style="padding: 2px 30px;box-shadow: 0px 0px 5px rgb(30 58 138);border: 2px solid rgb(30 58 138);transition: .7s ease-out;"
                                title="Log In"
                            >
                                Log In
                            </SignIn>
                            <Button
                                btntitle="Go to notepad"
                                bg="bg-gray-500"
                                textcolor="text-white"
                            >
                                Notepad
                            </Button>
                        </div>
                    </>
                )
            }
        </div>
    </div>
</header>

<!-- CSS -->
<style>
    header {
        font-family: "Rubik", sans-serif;
        box-shadow: 0px 0px 40px #18192f;
    }
</style>
